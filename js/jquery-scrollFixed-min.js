(função (a) {a.isScrollToFixed = função (b) {return !! a (b) .data ("ScrollToFixed")}; a.ScrollToFixed = função (d, i) {var m = this; m. $ el = a (d); m.el = d; m. $ el.data ("ScrollToFixed", m); var c = false; var H = m. $ el; var I; var F; var k; var e; var z; var E = 0; var r = 0; var j = -1; var f = -1; var u = null; var A; var g; função v () {H.trigger ("preUnfixed. ScrollToFixed "); l (); H.trigger (" unfixed.ScrollToFixed "); f = -1; E = H.offset (). Top; r = H.offset (). Left; if (m.options. deslocamentos) {r + = (H.offset (). esquerda-posição H. (). esquerda)} if (j == - 1) {j = r} I = H.css ("posição"); c = true ; if (m.options.bottom! = - 1) {H.trigger ("preFixed.ScrollToFixed"); x (); H.trigger ("fixed.ScrollToFixed")}} function o () {var J = m .options.limit; if (! J) {retornar 0} if (typeof (J) === "função") {retornar J.apply (H)} retornar J} função q () {retornar I === " fixo"} função y () {retorno I === "absoluto"} função h () {retorno! (q () || y ())} função x () {se (! q ()) {var J = H [0] .getBoundingClientRect (); u.css ({display: H.css ("display"), largura: J.width, altura: J.height, "float": H.css ("float")})}) ; cssOptions = {"z-index": m.options.zIndex, posição: "fixo", superior: m.options.bottom == - 1? t (): "", inferior: m.options.bottom == -1? "": M.options.bottom, "margin-left": "0px"}; if (! M.options.dontSetWidth) {cssOptions.width = H.css ("width")} H.css ( cssOptions); H.addClass (m.options.baseClassName); if (m.options.className) {H.addClass (m.options.className)} I = "fixo"}} função b () {var K = o (); var J = r; if (m.options.removeOffsets) {J = ""; K = KE} cssOptions = {position: "absolute", em cima: K, esquerda: J, "margem esquerda": " 0 px ", inferior:""}; if (! m.options.dontSetWidth) {cssOptions.width = H.css (" width ")} H.css (cssOptions); I =" absoluto "} função l () {if (! h () ) {f = -1; u.css ("exibição", "nenhuma"); H.css ({"índice z": z, largura: "", posição: F, esquerda: "", na parte superior: e , "margin-left": ""}); H.removeClass ("role para fixo-fixo"); if (m.options.className) {H.removeClass (m.options.className)} I = null }} função w (J) {if (J! = f) {H.css ("esquerda", rJ); f = J}} função t () {var J = m.options.marginTop; if (! J ) {return 0} if (typeof (J) === "function") {return J.apply (H)} retorna J} function B () {if (! a.isScrollToFixed (H) || H.is ( ": hidden")) {return} var M = c; var L = h (); if (! c) {v ()} else {if (h ()) {E = H.offset (). top; r = H.offset (). left}} var J = a (janela) .scrollLeft (); var N = a (janela) .scrollTop (); var K = o (); if (m.options.minWidth &&a (window) .width () <m.options.minWidth) {if (! h () ||! M) {p (); H.trigger ("preUnfixed.ScrollToFixed"); l (); H.trigger ("unfixed.ScrollToFixed")}} else {if (m.options.maxWidth && a (window) .width ()> m.options.maxWidth) {if (! h () ||! M) {p (); H .trigger ("preUnfixed.ScrollToFixed"); l (); H.trigger ("unfixed.ScrollToFixed")}} else {if (m.options.bottom == - 1) {if (K> 0 && N> = Kt ( )) {if (! L && (! y () ||! M)) {p (); H.trigger ("preAbsolute.ScrollToFixed"); b (); H.trigger ("unfixed.ScrollToFixed")}} else {if (N> = Et ()) {if (! q () ||! M) {p (); H.trigger ("preFixed.ScrollToFixed"); x (); f = -1; H. trigger ("Fixed.ScrollToFixed")} w (J)} else {if (! h () ||! M) {p (); H.trigger ("preUnfixed.ScrollToFixed"); l (); H.trigger ("unfixed.ScrollToFixed")}}}} else {if (K> 0) {if (N + a (janela) .height () - H.outerHeight (true)> = K- (t () || -n ())) {if (q ()) {p (); H.trigger ("preUnfixed.ScrollToFixed"); if (F === " absoluto ") {b ()} else {l ()} H.trigger (" unfixed.ScrollToFixed ")}} else {if (! q ()) {p (); H.trigger (" preFixed.ScrollToFixed ") ; x ()} w (J); H.trigger ("fixed.ScrollToFixed")}} else {w (J)}}}}} função n () {if (! m.options.bottom) {return 0 } retorna m.options.bottom} função p () {var J = H.css ("posição"); if (J == "absoluto") {H.trigger ("postAbsolute.ScrollToFixed")} else {if ( J == "corrigido") {H.trigger ("postFixed.ScrollToFixed")} else {H.trigger ("postUnfixed.ScrollToFixed")}}} var D = função (J) {if (H.is (": visível ")) {c = false; B ()} else {l ()}}; var G = função (J) {(!! window.requestAnimationFrame)? requestAnimationFrame (B): B ()}; var C = function () {var K = document.body; if (documento.createElement &&K&& K.appendChild && K.removeChild) {var M = document.createElement ("div"); if (! M.getBoundingClientRect) {return null} M.innerHTML = "x"; M.style.cssText = "position: fixed; top : 100px; "; K.appendChild (M); var N = K.style. altura, O = K.scrollTop; K.style.height =" 3000px "; K.scrollTop = 500; var J = M.getBoundingClientRect ( ) .top; K.style.height = N; var L = (J === 100); K.removeChild (M); K.scrollTop = O; retornar L} retornar nulo}; var s = função (J) {J = J || window.event; if (J.preventDefault) {J.preventDefault ()} J.returnValue = false}; m.init = function () {m.options = a.extend ({}, a .ScrollToFixed.defaultOptions, i); z = H.css ("índice z"); m. $ El.css ("índice z", m.options.zIndex); u = a ("<div /> "); I = H.css (" posição "); F = H.css (" posição "); k = H.css (" flutuante "); e = H.css (" superior ");if (h ()) {m. $ el.after (u)} a (window) .bind ("resize.ScrollToFixed", D); a (window) .bind ("scroll.ScrollToFixed", G); se ("ontouchmove" na janela) {a (window) .bind ("touchmove.ScrollToFixed", B)} if (m.options.preFixed) {H.bind ("preFixed.ScrollToFixed", m.options.preFixed)} if (m.options.postFixed) {H.bind ("postFixed.ScrollToFixed", m.options.postFixed)} if (m.options.preUnfixed) {H.bind ("preUnfixed.ScrollToFixed", m.options.preUnfixed )} if (m.options.postUnfixed) {H.bind ("postUnfixed.ScrollToFixed", m.options.postUnfixed)} if (m.options.preAbsolute) {H.bind ("preAbsolute.ScrollToFixed", m.options .preAbsolute)} if (m.options.postAbsolute) {H.bind ("postAbsolute.ScrollToFixed", m.options.postAbsolute)} if (m.options.fixed) {H.bind ("fixed.ScrollToFixed", m .options.fixed)} if (m.options.não corrigido) {H.bind ("unfixed.ScrollToFixed", m.options.unfixed)} if (m.options.spacerClass) {u.addClass (m.options.spacerClass)} H.bind ("resize.ScrollToFixed", function () {u.height (H.height ())}); H.bind ("scroll.ScrollToFixed", function () {H.trigger ("preUnfixed.ScrollToFixed"); l (); H.trigger ( "unfixed.ScrollToFixed"); B ()}); H.bind ("detach.ScrollToFixed", função (J) {s (J); H.trigger ("preUnfixed.ScrollToFixed"); l (); H. trigger ("unfixed.ScrollToFixed"); a (window) .unbind ("redimensionar.ScrollToFixed", D); a (window) .unbind ("scroll.ScrollToFixed", G); H.unbind (". ScrollToFixed") ; u.remove (); m. $ el.removeData ("ScrollToFixed")}); D ()}; m.init ()}; a.ScrollToFixed.defaultOptions = {marginTop: 0, limit: 0, bottom: -1, zIndex: 1000, baseClassName: "rolar para fixo-fixo"}; a.fn.scrollToFixed = function (b) {retorna this.each (function () {(novo a.ScrollToFixed (this, b))})}}) (jQuery);
